<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MBTI äººæ ¼æ¸¬é©— - éå¹´ç‰ˆ</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <!-- Remix Icon -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                    },
                    colors: {
                        cny: {
                            red: '#e63946',
                            darkred: '#9a031e',
                            gold: '#f5cb5c',
                            darkgold: '#b58900',
                            bg: '#fdfbf7'
                        }
                    },
                    boxShadow: {
                        'glass': '0 8px 32px 0 rgba(230, 57, 70, 0.15)',
                        'card': '0 20px 40px -10px rgba(0,0,0,0.1)',
                    }
                }
            }
        }
    </script>

    <!-- App Logic -->
    <script>
        function mbtiApp() {
            return {
                screen: 'start', // start, quiz, result
                currentIndex: 0,
                answers: [], // ç´€éŒ„é¸æ“‡ A(å·¦) æˆ– B(å³)
                resultType: 'INTJ', // é è¨­çµæœ
                
                // æ»‘å‹•ç‰©ç†ç‹€æ…‹
                isDragging: false,
                hasDragged: false, // åˆ¤æ–·æ˜¯å¦ç‚ºæ»‘å‹•ï¼Œä»¥å€åˆ†ç´”é»æ“Š
                startX: 0,
                startY: 0,
                dragX: 0,
                dragY: 0,
                isAnimatingOut: false, // åˆ¤æ–·æ˜¯å¦æ­£åœ¨é£›å‡º
                leaveX: 0,
                leaveY: 0,

                questions: [
                    // æŒ‰ç…§éå¹´æ™‚é–“è»¸æ’åˆ— (éå¹´å‰æº–å‚™ -> é™¤å¤•å¤œ -> ç´…åŒ… -> èµ°æ˜¥æ‹œè¨ª -> å‡æœŸçµæŸ)
                    { q: 'éå¹´å‰è¦æº–å‚™é€çµ¦è¦ªæœ‹å¥½å‹çš„ä¼´æ‰‹ç¦®ï¼Œä½ æœƒ...', a: 'ææ—©å¹¾å€‹ç¦®æ‹œå°±åˆ—å¥½æ¸…å–®ã€æ¯”åƒ¹ä¸¦é è³¼å®Œç•¢', b: 'æ‹–åˆ°æœ€å¾Œå¹¾å¤©ï¼Œé€›è¡—çœ‹åˆ°ä»€éº¼ä¸éŒ¯å°±ç›´æ¥è²·', dim: 'JP' },
                    { q: 'æº–å‚™éå¹´è¦è²·æ˜¥è¯æˆ–å®¶è£¡è£é£¾æ™‚ï¼Œä½ æœƒ...', a: 'æŒ‘é¸å‚³çµ±å¯«è‘—ã€Œæ‹›è²¡é€²å¯¶ã€ã€ã€Œæ˜¥ã€çš„å¯¦ç”¨åŸºæœ¬æ¬¾', b: 'å°‹æ‰¾æœ‰è¨­è¨ˆæ„Ÿã€å¸¶æœ‰ç‰¹æ®Šå¯“æ„æˆ–å‰µæ„çš„æ–‡å‰µæ˜¥è¯', dim: 'SN' },
                    { q: 'é™¤å¤•å›åˆ°è€å®¶ï¼Œä¸€æ¨é–‹é–€çœ‹åˆ°æ»¿å±‹å­è¦ªæˆšï¼Œä½ æœƒ...', a: 'é–‹å¿ƒå¤§è²æ‰“æ‹›å‘¼ï¼Œé¦¬ä¸Šèå…¥å¤§å®¶èŠèµ·ä¾†', b: 'å¾®ç¬‘é»é ­è‡´æ„ï¼Œç„¶å¾Œé»˜é»˜æ‰¾å€‹å®‰éœçš„è§’è½åä¸‹', dim: 'EI' },
                    { q: 'å¹«å¿™æº–å‚™å¹´å¤œé£¯æ™‚ï¼Œçªç„¶ç™¼ç¾å°‘è²·äº†ä¸€æ¨£é‡è¦é£Ÿæï¼Œä½ æœƒ...', a: 'è¿…é€Ÿæ€è€ƒæ›¿ä»£æ–¹æ¡ˆï¼Œæˆ–é¦¬ä¸Šè¨ˆç®—å»å“ªé–“è¶…å¸‚è²·æœ€å¿«', b: 'æ“”å¿ƒè² è²¬è²·èœçš„äººè‡ªè²¬ï¼Œå…ˆå®‰æ…°å°æ–¹èªªã€Œæ²’é—œä¿‚å•¦ã€', dim: 'TF' },
                    { q: 'çœ‹è‘—æ»¿æ¡Œè±ç››çš„å¹´èœï¼Œä½ è…¦æµ·è£¡é¦–å…ˆæµ®ç¾çš„æ˜¯...', a: 'èœè‰²çœŸè±å¯Œï¼Œé‚£é“ä½›è·³ç‰†å¥½é¦™ï¼Œçƒé­šå­çƒ¤å¾—å‰›å‰›å¥½', b: 'é€™é “é£¯ä»£è¡¨è‘—ä¸€å®¶åœ˜åœ“çš„æ„ç¾©ï¼Œå……æ»¿å›æ†¶èˆ‡æº«é¦¨æ„Ÿ', dim: 'SN' },
                    
                    { q: 'åƒå¹´å¤œé£¯æ™‚ï¼Œé•·è¼©å€‘åœ¨ç†±çƒˆè¨è«–å®¶æ—å¾€äº‹ï¼Œä½ é€šå¸¸...', a: 'ç©æ¥µæ’è©±ï¼Œé †ä¾¿åˆ†äº«è‡ªå·±æœ€è¿‘é‡åˆ°çš„è¶£äº‹', b: 'é‚Šåƒé‚Šè½ï¼Œå¶çˆ¾é»é ­é™„å’Œå¹¾å¥ï¼Œä¸å¸¸ä¸»å‹•ç™¼è¨€', dim: 'EI' },
                    { q: 'åƒå®Œå¹´å¤œé£¯ï¼Œè¡¨å“¥æè­°å¤§å®¶ä¾†æ‰“éº»å°‡æˆ–ç©æ’²å…‹ç‰Œï¼Œä½ æœƒ...', a: 'é¦¬ä¸Šæ¹Šéå»å–Šã€ŒåŠ æˆ‘ä¸€å€‹ï¼ã€ï¼Œäº«å—ç†±é¬§çš„æ°£æ°›', b: 'èªªè‡ªå·±ä¸å¤ªæœƒæ‰“æˆ–æœ‰é»ç´¯ï¼Œå¯§é¡˜åœ¨æ—é‚Šæ»‘æ‰‹æ©Ÿä¼‘æ¯', dim: 'EI' },
                    { q: 'é£¯å¾Œé•·è¼©åœ¨å®¢å»³æŠ±æ€¨æœ€è¿‘èº«é«”è€æ˜¯ç— ç—›ï¼Œä½ æœƒ...', a: 'èªçœŸå»ºè­°ä»–å»å“ªé–“é†«é™¢æª¢æŸ¥ï¼Œæˆ–æ¨è–¦å¥½ç”¨çš„ç— ç—›è²¼å¸ƒ', b: 'èªå¸¶é—œå¿ƒåœ°èªªã€Œè¾›è‹¦äº†ã€ï¼Œå¤šé™ªä»–èŠèŠç”Ÿæ´»ç‘£äº‹', dim: 'TF' },
                    { q: 'é•·è¼©å•èµ·ä½ æ–°çš„ä¸€å¹´æœ‰ä»€éº¼è¨ˆç•«ï¼Œä½ å‚¾å‘å›ç­”...', a: 'å…·é«”å‹™å¯¦çš„ç›®æ¨™ï¼Œä¾‹å¦‚æº–å‚™è€ƒå…¬è·ã€å¤šå­˜é»éŒ¢è²· 0050', b: 'æ¯”è¼ƒå¤§æ–¹å‘çš„é¡˜æ™¯ï¼Œä¾‹å¦‚æ›å€‹è·‘é“è©¦è©¦ã€å°‹æ‰¾ç”Ÿæ´»æ–°é®®æ„Ÿ', dim: 'SN' },
                    { q: 'å¾é•·è¼©æ‰‹ä¸­æ¥éç´…åŒ…æ™‚ï¼Œä½ å¿ƒè£¡æƒ³çš„æ˜¯...', a: 'æä¸€ææ„Ÿè¦ºä»Šå¹´é€™åŒ…æœ‰é»åšï¼Œç›¤ç®—è‘—å¯ä»¥æ‹¿ä¾†è²·ä»€éº¼', b: 'é€™æ˜¯é•·è¼©çš„å¿ƒæ„èˆ‡ç¥ç¦ï¼Œè¦ºå¾—æœ‰å®¶äººé—œå¿ƒçœŸçš„å¾ˆæº«æš–', dim: 'SN' },
                    
                    { q: 'æ‹¿åˆ°ä¸€å †éå¹´ç¦®ç›’è·Ÿä¼´æ‰‹ç¦®ï¼Œä½ æœƒæ€éº¼è™•ç†...', a: 'ç•¶å¤©å°±æ‹†é–‹åˆ†é¡å¥½ï¼Œæ•´é½Šæ”¶é€²å›ºå®šçš„é›¶é£Ÿæ«ƒå­è£¡', b: 'å…ˆå…¨éƒ¨å †åœ¨å®¢å»³è§’è½ï¼Œç­‰ä¹‹å¾Œæœ‰ç©ºæˆ–æƒ³åƒæ™‚å†æ…¢æ…¢å¼„', dim: 'JP' },
                    { q: 'éå¹´æœŸé–“è¦ªæˆšå®¶çš„å°å­©ç‚ºäº†æ¶é›»è¦–æˆ–ç©å…·åµèµ·ä¾†äº†ï¼Œä½ æœƒ...', a: 'äº†è§£äº‹æƒ…ç¶“éï¼Œå®¢è§€æŒ‡å‡ºèª°å°èª°éŒ¯ä¸¦è·Ÿä»–å€‘è¬›é“ç†', b: 'å…ˆå®‰æ’«å…©é‚Šçš„æƒ…ç·’ï¼Œæ‹¿é›¶é£Ÿè½‰ç§»ä»–å€‘çš„æ³¨æ„åŠ›è®“å¤§å®¶å’Œå¥½', dim: 'TF' },
                    { q: 'é‡åˆ°æ„›æ¯”è¼ƒçš„è¦ªæˆšå°ä½ çš„è–ªæ°´æˆ–æ„Ÿæƒ…ç‹€æ³ç˜‹ç‹‚æ‹·å•ï¼Œä½ çš„åæ‡‰æ˜¯...', a: 'è¦ºå¾—é€™åªæ˜¯è³‡è¨Šäº¤æ›ï¼Œé¢ç„¡è¡¨æƒ…åœ°çµ¦å‡ºç°¡çŸ­çš„å®˜æ–¹æ¨™æº–ç­”æ¡ˆ', b: 'è¦ºå¾—å€‹äººéš±ç§è¢«ä¾µçŠ¯ï¼Œå¿ƒè£¡æœ‰é»å—å‚·æˆ–ä¸èˆ’æœä½†åŠªåŠ›ä¿æŒå¾®ç¬‘', dim: 'TF' },
                    { q: 'åˆä¸€å»å¤§å»Ÿæ‹œæ‹œæˆ–é€›è€è¡—ï¼Œäººæ½®éå¸¸æ“æ“ ï¼Œä½ çš„æ„Ÿè¦ºæ˜¯...', a: 'éå¹´å°±æ˜¯è¦é€™æ¨£äººæ“ äººæ‰æœ‰æ°£æ°›ï¼Œè¦ºå¾—å¾ˆç†±é¬§å¥½ç©', b: 'è¦ºå¾—äººå¤ªå¤šç©ºæ°£å¾ˆæ‚¶ã€å¥½ç…©èºï¼Œåªæƒ³è¶•å¿«æ‹œå®Œå›å®¶', dim: 'EI' },
                    { q: 'å…¨å®¶è¦æ±ºå®šå¤§å¹´åˆä¸‰è¦å»å“ªè£¡èµ°æ˜¥ï¼Œä½ çš„æ±ºç­–æ–¹å¼æ˜¯...', a: 'ç†æ€§åˆ†æå„æ™¯é»çš„è»Šç¨‹ã€å¡è»Šæ©Ÿç‡å’ŒèŠ±è²»ä¾†æ±ºå®š', b: 'å„ªå…ˆè€ƒæ…®å¤§å®¶çš„å–œå¥½ï¼Œé¸ä¸€å€‹èƒ½è®“å¤šæ•¸äººéƒ½é–‹å¿ƒçš„åœ°æ–¹', dim: 'TF' },
                    
                    { q: 'å°æ–¼éå¹´æœŸé–“å‡ºé–€æ‹œè¨ªè¦ªæˆšçš„è¡Œç¨‹ï¼Œä½ çš„ç¿’æ…£æ˜¯...', a: 'äº‹å…ˆæ’å¥½ç²¾ç¢ºçš„æ™‚é–“è¡¨ï¼šå¹¾é»å‡ºç™¼ã€åˆ°å“ªå®¶ã€å¾…å¤šä¹…', b: 'éš¨æ€§ç™¼æ®ï¼šçœ‹ç•¶å¤©å¤§å®¶èµ·åºŠçš„æ™‚é–“å’Œå¿ƒæƒ…æ±ºå®šå»å“ª', dim: 'JP' },
                    { q: 'åŸæœ¬èªªå¥½è¦å»æ‹œè¨ªçš„è¦ªæˆšè‡¨æ™‚ä¸åœ¨å®¶ï¼Œä½ æœƒ...', a: 'è¦ºå¾—åŸæœ¬çš„è¨ˆç•«è¢«æ‰“äº‚ï¼Œå¿ƒè£¡æœ‰é»ç„¦æ…®æˆ–ä¸é©æ‡‰', b: 'è¦ºå¾—æ²’å·®ï¼Œå‰›å¥½ç©ºå‡ºæ™‚é–“å¯ä»¥å»åˆ¥çš„åœ°æ–¹æ™ƒæ™ƒåƒæ±è¥¿', dim: 'JP' },
                    { q: 'çœ‹åˆ°é›»è¦–ä¸Šåœ¨æ’­æ˜å¹´çš„ç”Ÿè‚–é‹å‹¢æˆ–æµå¹´é¢¨æ°´ï¼Œä½ æœƒ...', a: 'è½è½å°±å¥½ï¼Œé‚„æ˜¯è¦ºå¾—è…³è¸å¯¦åœ°é è‡ªå·±çš„åŠªåŠ›æ¯”è¼ƒå¯¦åœ¨', b: 'è¦ºå¾—æ»¿æœ‰è¶£çš„ï¼Œæœƒä¸è‡ªè¦ºè¯æƒ³åˆ°è‡ªå·±æ˜å¹´å¯èƒ½ç™¼ç”Ÿçš„å„ç¨®äº‹', dim: 'SN' },
                    { q: 'é€£çºŒå¹¾å¤©èµ°æ˜¥æ‹œå¹´çµæŸå¾Œï¼Œä½ çš„ç‹€æ…‹æ˜¯...', a: 'æ„çŒ¶æœªç›¡ï¼Œè¦ºå¾—å……æ»¿æ­¡æ¨‚èƒ½é‡ï¼Œé‚„æƒ³å†ç´„æœ‹å‹å‡ºå»', b: 'ç¤¾äº¤é›»é‡å¾¹åº•è€—ç›¡ï¼Œåªæƒ³æŠŠè‡ªå·±é—œåœ¨æˆ¿é–“å®‰éœè€å»¢', dim: 'EI' },
                    { q: 'æ•´é«”ä¾†èªªï¼Œéå¹´é€™æ®µé•·å‡ï¼Œä½ æ¯”è¼ƒåå¥½å“ªç¨®åº¦å‡æ¨¡å¼ï¼Ÿ', a: 'æ¯å¤©éƒ½æœ‰å®‰æ’å¥½çš„è¡Œç¨‹æˆ–ä»£è¾¦äº‹é …ï¼Œéå¾—å¾ˆå……å¯¦', b: 'å®Œå…¨æ²’æœ‰ä»»ä½•å›ºå®šè¡Œç¨‹ï¼Œæ¯å¤©ç¡åˆ°è‡ªç„¶é†’å†èªª', dim: 'JP' }
                ],

                mbtiData: {
                    'INTJ': { 
                        title: 'ç­–ç•¥è¦åŠƒè€…', 
                        en: 'Strategic Planner', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ æ˜¯å€‹ç†æ€§ã€ç¨ç«‹æ€è€ƒä¸”å……æ»¿é è¦‹çš„äººã€‚å–œæ­¡æœ‰é‚è¼¯åœ°è§£æ±ºå•é¡Œï¼Œå°æ–¼æœªä¾†ç¸½æ˜¯æŠ±æŒè‘—æ¸…æ™°çš„è¦åŠƒèˆ‡ç­–ç•¥ã€‚\n\nã€éå¹´æ¨£è²Œã€‘ä½ æ˜¯æ˜¥ç¯€æ‹œå¹´çš„ã€Œå¹•å¾Œè»å¸«ã€ã€‚ä¸æ„›è·Ÿè‘—çèµ·å“„ï¼Œä½†èƒ½ç²¾æº–åˆ†æè¦ªæˆšé–“çš„è¤‡é›œé—œä¿‚ï¼Œç‚ºå…¨å®¶è¦åŠƒå‡ºå®Œç¾é¿é–‹å¡è»Šèˆ‡å°¬èŠçš„èµ°æ˜¥è·¯ç·šã€‚ç´…åŒ…é ç®—èˆ‡ä¿¡ç”¨å¡å›é¥‹éƒ½åœ¨ä½ çš„ç²¾ç®—ä¹‹ä¸­ï¼' 
                    },
                    'INTP': { 
                        title: 'å¥½å¥‡è§€å¯Ÿè€…', 
                        en: 'Curious Observer', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ æ“æœ‰æ—ºç››çš„æ±‚çŸ¥æ…¾ï¼Œå–œæ­¡æ¢ç©¶äº‹ç‰©èƒŒå¾Œçš„åŸç†ã€‚æ€§æ ¼å†·éœå®¢è§€ï¼Œäº«å—ç¨è‡ªæ€è€ƒçš„æ™‚å…‰ï¼Œå°æ–¼å‰µæ–°æƒ³æ³•ç¸½æ˜¯å……æ»¿ç†±æƒ…ã€‚\n\nã€éå¹´æ¨£è²Œã€‘å®ˆæ­²æ™‚çš„ã€Œäººé–“æ¸…é†’è§€å¯Ÿå®¶ã€ã€‚ç•¶å¤§å®¶åœ¨ç†±çƒˆæ‰“ç‰Œæ™‚ï¼Œä½ å¯èƒ½åœ¨æ—é‚Šç ”ç©¶éº»å°‡æ©Ÿçš„æ©Ÿæ¢°åŸç†ï¼Œæˆ–æ€è€ƒé•·è¼©å¹´å¤œé£¯è©±é¡ŒèƒŒå¾Œçš„ç¤¾æœƒå­¸æ„ç¾©ã€‚åªè¦ä¸è¢«å‚¬å©šå‚¬è–ªæ°´ï¼Œä½ å°±æ˜¯å€‹å®‰éœçš„éå¹´åƒç“œç¾¤çœ¾ã€‚' 
                    },
                    'ENTJ': { 
                        title: 'å®¶æ—ç¸½æŒ‡æ®', 
                        en: 'Family Organizer', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ æ˜¯å¤©ç”Ÿçš„é ˜å°è€…ï¼Œæœæ–·ã€è‡ªä¿¡ä¸”æ¥µå…·åŸ·è¡ŒåŠ›ã€‚å–„æ–¼çµ„ç¹”è³‡æºä¸¦æ¨å‹•è¨ˆç•«å‰é€²ï¼Œä¸ç•æ‡¼æŒ‘æˆ°ï¼Œç¸½æ˜¯èƒ½å¸¶é ˜åœ˜éšŠé”æˆç›®æ¨™ã€‚\n\nã€éå¹´æ¨£è²Œã€‘éå¹´è¡Œç¨‹çš„ã€Œéœ¸ç¸½å¤§ç¸½ç®¡ã€ã€‚å¾å¹´å¤œé£¯è¨‚å“ªé–“é¤å»³ã€åˆå¹¾è¦å»å“ªè£¡æ‹œæ‹œï¼Œåˆ°æŒ‡æ®å¤§å®¶å¤§æƒé™¤ï¼Œä½ éƒ½èƒ½ä¸€æ‰‹åŒ…è¾¦ã€‚æœ‰ä½ åœ¨ï¼Œå®¶æ—éå¹´çµ•ä¸æ‹–æ³¥å¸¶æ°´ï¼Œæ•ˆç‡é«˜åˆ°é€£è²¡ç¥çˆºéƒ½æƒ³ææ—©ä¸Šé–€ï¼' 
                    },
                    'ENTP': { 
                        title: 'è©±é¡Œè£½é€ æ©Ÿ', 
                        en: 'Debate Starter', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ æ€ç¶­æ•æ·ã€å……æ»¿å‰µæ„ï¼Œå–œæ­¡é€éè¾¯è«–ä¾†æ¿€ç™¼æ–°æƒ³æ³•ã€‚å‹‡æ–¼æŒ‘æˆ°å‚³çµ±æ¡†æ¶ï¼Œç¸½èƒ½ç”¨ç¨ç‰¹çš„è¦–è§’çœ‹å¾…ä¸–ç•Œã€‚\n\nã€éå¹´æ¨£è²Œã€‘å¹´å¤œé£¯æ¡Œä¸Šçš„ã€Œéˆé­‚è¾¯æ‰‹ã€ã€‚é¢å°è¦ªæˆšçš„éˆé­‚æ‹·å•ï¼Œä½ ç¸½èƒ½ç”¨å¹½é»˜åˆçŠ€åˆ©çš„æ–°è§€é»å®Œç¾åæ“Šï¼Œç”šè‡³åéä¾†æŠŠé•·è¼©é€—å¾—ä¸€æ„£ä¸€æ„£çš„ã€‚æœ‰ä½ åœ¨çš„éå¹´ï¼Œçµ•å°ä¸ç”¨æ€•å†·å ´ï¼Œåªæ€•è©±é¡Œå¤ªè¾›è¾£ï¼' 
                    },
                    'INFJ': { 
                        title: 'å®‰éœè«®è©¢å¸«', 
                        en: 'Quiet Counselor', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ å…·å‚™æ¥µé«˜çš„åŒç†å¿ƒèˆ‡ç›´è¦ºåŠ›ï¼Œç¸½èƒ½æ·±åˆ»ç†è§£ä»–äººçš„æƒ…ç·’ã€‚çœ‹ä¼¼å®‰éœå…§æ–‚ï¼Œå»æœ‰è‘—å …å®šçš„ä¿¡å¿µï¼Œè‡´åŠ›æ–¼å¹«åŠ©ä»–äººæˆé•·ã€‚\n\nã€éå¹´æ¨£è²Œã€‘è¦ªæˆšé–“çš„ã€Œèµ°æ˜¥å¿ƒéˆå°å¸«ã€ã€‚ä½ ç¸½èƒ½æ•éŠ³å¯Ÿè¦ºåˆ°èª°åœ¨é£¯æ¡Œä¸Šè¢«å†·è½ã€èª°åˆè¢«é•·è¼©å•å¾—ä¸‹ä¸äº†å°ã€‚é›–ç„¶ç¸½æ˜¯å®‰éœåœ°åœ¨ä¸€æ—å‰æ©˜å­ï¼Œå»é»˜é»˜ç”¨æº«æš–çš„çœ¼ç¥èˆ‡é©æ™‚çš„è½‰ç§»è©±é¡Œï¼Œæ‹¯æ•‘äº†ç„¡æ•¸å€‹å°·å°¬ç¬é–“ã€‚' 
                    },
                    'INFP': { 
                        title: 'å¤¢å¹»æ•…äº‹å®¶', 
                        en: 'Dreamy Storyteller', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ æ˜¯å€‹ç†æƒ³ä¸»ç¾©è€…ï¼Œå…§å¿ƒå……æ»¿è±å¯Œçš„æƒ…æ„Ÿèˆ‡æƒ³åƒåŠ›ã€‚é‡è¦–å€‹äººåƒ¹å€¼è§€ï¼Œå–œæ­¡é€éè—è¡“ã€æ–‡å­—æˆ–å‰µä½œä¾†è¡¨é”å…§å¿ƒçš„ä¸–ç•Œã€‚\n\nã€éå¹´æ¨£è²Œã€‘å……æ»¿å¹´å‘³çš„ã€Œæµªæ¼«æ–‡é’ã€ã€‚æ¯”èµ·æ¹Šæ¡Œæ‰“ç‰Œï¼Œä½ æ›´å–œæ­¡è§€å¯Ÿçª—å¤–çš„ç…™ç«ã€æ‹ä¸‹æ»¿æ¡Œçš„å¹´èœï¼Œæˆ–æ˜¯æŠŠéå¹´å®¶è£¡çš„æº«é¦¨äº’å‹•å¯«æˆæ„Ÿæ€§çš„é™æ™‚å‹•æ…‹ã€‚ä½ ç¸½èƒ½å¾åµé¬§çš„æ˜¥ç¯€ä¸­ï¼Œæ•æ‰åˆ°æœ€ç´”ç²¹çš„åœ˜åœ“æ„Ÿå‹•ã€‚' 
                    },
                    'ENFJ': { 
                        title: 'å’Œè«§æ°£æ°›å¤§å¸«', 
                        en: 'Harmonious Host', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ å……æ»¿é­…åŠ›èˆ‡ç†±æƒ…ï¼Œå¤©ç”Ÿå…·æœ‰æ„ŸæŸ“åŠ›ã€‚éå¸¸åœ¨ä¹ä»–äººçš„æ„Ÿå—ï¼Œæ“…é•·å‡èšåœ˜éšŠå‘å¿ƒåŠ›ï¼Œæ˜¯å¤§å®¶çœ¼ä¸­çš„æº«æš–ç™¼å…‰é«”ã€‚\n\nã€éå¹´æ¨£è²Œã€‘å®¶æ—èšæœƒçš„ã€Œè¶…å¼·ä¸»æŒäººã€ã€‚ä½ å¤©ç”Ÿå…·å‚™é›·é”ï¼Œèƒ½ç²¾æº–ç…§é¡§åˆ°æ¯å€‹é•·è¼©èˆ‡å°å­©çš„æƒ…ç·’ï¼Œä¸ç®¡æ˜¯å¹«å¿™å¤¾èœé‚„æ˜¯ç†±æƒ…ç™¼ç´…åŒ…ï¼Œä½ éƒ½èƒ½æŠŠæ°£æ°›ç‚’ç†±åˆ°æœ€é«˜é»ï¼Œæ˜¯é•·è¼©çœ¼ä¸­æœ€å¾—äººç–¼çš„å®Œç¾æ™šè¼©ï¼' 
                    },
                    'ENFP': { 
                        title: 'ç¤¾äº¤èŠ±è´è¶', 
                        en: 'Social Butterfly', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ è‡ªç”±å¥”æ”¾ã€å……æ»¿å¥½å¥‡å¿ƒï¼Œç¸½æ˜¯å°æ–°é®®äº‹ç‰©å……æ»¿ç†±æƒ…ã€‚äº¤å‹å»£é—Šï¼Œæ“…é•·å°‡æ­¡æ¨‚å¸¶çµ¦å‘¨é­çš„äººï¼Œæ˜¯å€‹ä¸æŠ˜ä¸æ‰£çš„æ¨‚å¤©æ´¾ã€‚\n\nã€éå¹´æ¨£è²Œã€‘éå¹´èµ°æ˜¥çš„ã€Œè¡Œå‹•ç™¼é›»æ©Ÿã€ï¼ä¸ç®¡æ˜¯ç©åˆ®åˆ®æ¨‚ã€æ”¾é­ç‚®é‚„æ˜¯æ¡ŒéŠï¼Œå“ªè£¡æœ‰æ¨‚å­å“ªè£¡å°±æœ‰ä½ ã€‚ä½ å……æ»¿æ„ŸæŸ“åŠ›çš„ç¬‘è²èƒ½èåŒ–æ‰€æœ‰è¦ªæˆšçš„ä»£æºï¼Œæ˜¯å®¶æ—è£¡ä¸å¯æˆ–ç¼ºçš„éå¹´é–‹å¿ƒæœã€‚' 
                    },
                    'ISTJ': { 
                        title: 'å‚³çµ±å®ˆè­·è€…', 
                        en: 'Traditional Guardian', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ å‹™å¯¦ã€è² è²¬ä¸”äº•ç„¶æœ‰åºã€‚éå¸¸é‡è¦–æ‰¿è«¾èˆ‡å‚³çµ±ï¼Œåšäº‹æœ‰æ¢ä¸ç´Šï¼Œæ˜¯èº«é‚Šäººçœ¼ä¸­æœ€å€¼å¾—ä¿¡è³´çš„é å±±ã€‚\n\nã€éå¹´æ¨£è²Œã€‘ç¿’ä¿—ç™¾ç§‘å…¨æ›¸å…¼ã€Œéå¹´ SOP å¤§å¸«ã€ã€‚åˆä¸€è¦æ—©èµ·æ‹œæ‹œã€åˆäºŒè¦æº–å‚™ä»€éº¼ä¼´æ‰‹ç¦®ï¼Œä½ éƒ½è¨˜å¾—æ¸…æ¸…æ¥šæ¥šã€‚åš´æ ¼æŠŠé—œæ¯ä¸€é …å‚³çµ±è¦çŸ©ï¼Œä½ æ˜¯è®“éå¹´ä¿æœ‰æ¿ƒæ¿ƒå¹´å‘³ã€æœ€å¯é çš„å®¶åº­å¾Œç›¾ã€‚' 
                    },
                    'ISFJ': { 
                        title: 'è²¼å¿ƒç…§é¡§è€…', 
                        en: 'Caring Host', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ æº«æŸ”é«”è²¼ã€æ¨‚æ–¼å¥‰ç»ã€‚ç¸½æ˜¯é»˜é»˜é—œæ³¨ä»–äººçš„éœ€æ±‚ï¼Œä¸¦çµ¦äºˆæœ€å¯¦è³ªçš„å¹«åŠ©ï¼Œå–œæ­¡åœ¨ç©©å®šçš„ç’°å¢ƒä¸­ç…§é¡§èº«é‚Šçš„äººã€‚\n\nã€éå¹´æ¨£è²Œã€‘å¹´å¤œé£¯çš„ã€Œæœ€å¼·æš–å¿ƒå¾Œå‹¤ã€ã€‚é»˜é»˜è¨˜ä¸‹æ¯å€‹äººçš„å£å‘³ç«¯å‡ºæ‹¿æ‰‹å¥½èœï¼Œå¹«å¿™å¼µç¾…ç´…åŒ…è¢‹ã€åˆ‡å¥½é£¯å¾Œæ°´æœã€‚é›–ç„¶ç¸½æ˜¯åœ¨å»šæˆ¿èˆ‡å®¢å»³é–“ç©¿æ¢­ï¼Œä½†çœ‹è‘—å¤§å®¶åƒé£½å–è¶³ï¼Œå°±æ˜¯ä½ æœ€å¤§çš„éå¹´ç¢ºå¹¸ã€‚' 
                    },
                    'ESTJ': { 
                        title: 'é«˜æ•ˆå”èª¿è€…', 
                        en: 'Efficient Coordinator', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ è¬›æ±‚æ•ˆç‡ã€é‡è¦–è¦å‰‡èˆ‡ç§©åºã€‚æ“…é•·ç®¡ç†èˆ‡åˆ†é…è³‡æºï¼Œåšäº‹ä¹¾è„†ä¿è½ï¼Œå–œæ­¡çœ‹åˆ°äº‹æƒ…æŒ‰ç…§æ—¢å®šè¨ˆç•«å®Œç¾åŸ·è¡Œã€‚\n\nã€éå¹´æ¨£è²Œã€‘å®¶æ—èµ°æ˜¥çš„ã€Œæœ€å¼·é‡Œé•·ä¼¯ã€ã€‚å¾æ¡è²·å¹´è²¨åˆ°åˆ†é…å¤§æƒé™¤ä»»å‹™ï¼Œä½ æ“…é•·æŠŠæ··äº‚çš„å¾…è¾¦äº‹é …å®‰æ’å¾—æ˜æ˜ç™½ç™½ã€‚è²·ä¼´æ‰‹ç¦®è¬›æ±‚ CP å€¼ï¼Œç™¼ç´…åŒ…è¬›æ±‚å…¬å¹³ï¼Œè¶…å¼·åŸ·è¡ŒåŠ›æ˜¯å…¨å®¶é †åˆ©éå¥½å¹´çš„æœ€å¤§æ”¯æŸ±ï¼' 
                    },
                    'ESFJ': { 
                        title: 'è¦ªæƒ…é€£çµè€…', 
                        en: 'Caring Connector', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ æ¥µå…·è¦ªå’ŒåŠ›ï¼Œéå¸¸é‡è¦–äººéš›é—œä¿‚çš„å’Œè«§ã€‚ç¸½æ˜¯æŠŠåˆ¥äººçš„éœ€æ±‚æ”¾åœ¨å¿ƒä¸Šï¼Œæ¨‚æ–¼ç‚ºç¾¤é«”ä»˜å‡ºï¼Œæ˜¯æœ‹å‹åœˆè£¡çš„è¶…ç´šé»è‘—åŠ‘ã€‚\n\nã€éå¹´æ¨£è²Œã€‘å®¶æ—çš„ã€Œæœ€å¼·äººè„ˆç‹ã€ã€‚ä½ ç†±å¿ƒç¶­ç¹«è‘—æ¯å€‹è¦ªæˆšé–“çš„æ„Ÿæƒ…ï¼Œéå¹´ä¸€å®šæœƒç¾¤ç™¼æœ€èª æ‘¯çš„æ‹œå¹´è¨Šæ¯ã€‚ä½ ç†ŸçŸ¥æ¯å€‹å ‚è¡¨å¼Ÿå¦¹çš„è¿‘æ³ï¼Œæœ‰ä½ åœ¨ï¼Œå®¶æ—ç¾¤çµ„æ°¸é ç†±é¬§æ»¾æ»¾ï¼Œè¦ªæƒ…çµ•ä¸æ•£å ´ã€‚' 
                    },
                    'ISTP': { 
                        title: 'å¯¦ç”¨è§£æ±ºè€…', 
                        en: 'Problem Solver', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ å†·éœç†æ€§ã€å‹•æ‰‹èƒ½åŠ›æ¥µå¼·ã€‚å¹³æ™‚çœ‹ä¼¼ä¸æ‹˜å°ç¯€ï¼Œä½†é‡åˆ°å±æ©Ÿæ™‚ç¸½èƒ½è¿…é€Ÿæ‰¾åˆ°æœ€å¯¦ç”¨çš„è§£æ±ºæ–¹æ¡ˆï¼Œæ˜¯å€‹å¤©ç”Ÿçš„å¯¦å¹¹å®¶ã€‚\n\nã€éå¹´æ¨£è²Œã€‘éå¹´æœŸé–“çš„ã€Œå…¨èƒ½ç¥æ•‘æ´ã€ã€‚é›»è¦–æ£’æ¥ä¸èµ·ä¾†ï¼Ÿéº»å°‡æ¡Œå¡ä½ï¼Ÿè¦ªæˆšå°å­©çš„ç©å…·å£äº†ï¼Ÿåªè¦äº¤çµ¦ä½ ï¼Œä¸å‡ºä¸‰åˆ†é˜å°±èƒ½ç”¨æœ€å†·éœå¸¥æ°£çš„å§¿æ…‹æå®šã€‚ä½ æ˜¯é€™å€‹æ˜¥ç¯€æœ€é è­œçš„ç¡¬æ ¸ç¥äººã€‚' 
                    },
                    'ISFP': { 
                        title: 'ç¾æ„Ÿå‰µé€ è€…', 
                        en: 'Artistic Decorator', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ æ€§æ ¼æº«å’Œã€éš¨é‡è€Œå®‰ï¼Œæ“æœ‰æ•éŠ³çš„ç¾æ„Ÿèˆ‡è—è¡“å¤©è³¦ã€‚é‡è¦–ç•¶ä¸‹çš„æ„Ÿå—ï¼Œå–œæ­¡ç”¨è‡ªå·±çš„æ–¹å¼å»é«”é©—ç”Ÿæ´»ä¸­çš„æ¯ä¸€åˆ»ã€‚\n\nã€éå¹´æ¨£è²Œã€‘æ‰“é€ å¹´å‘³çš„ã€Œéå¹´ç”Ÿæ´»ç¾å­¸å®¶ã€ã€‚å¾æŒ‘é¸è¶…æœ‰è³ªæ„Ÿçš„æ–‡å‰µæ˜¥è¯ã€æ’ä¸€ç›†å–œæ°£çš„å¹´èŠ±ï¼Œåˆ°æ“ºç›¤ç²¾ç¾çš„ç‰›è»‹ç³–æ‹›å¾…ç›’ï¼Œä½ ç¸½èƒ½ç”¨æ¥µè‡´çš„å¯©ç¾ï¼ŒæŠŠä¿—æ°£çš„å‚³çµ±æ–°å¹´éå‡ºç²¾ç·»çš„å„€å¼æ„Ÿã€‚' 
                    },
                    'ESTP': { 
                        title: 'æ´»åŠ›éŠæˆ²ç‹', 
                        en: 'Game Master', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ ç†±æ„›å†’éšªã€è¡Œå‹•åŠ›åè¶³ã€‚ç¸½æ˜¯æ´»åœ¨ç•¶ä¸‹ï¼Œå–œæ­¡è¿½æ±‚åˆºæ¿€èˆ‡æ–°é®®æ„Ÿï¼Œå¼·å¤§çš„é©æ‡‰åŠ›è®“ä½ èƒ½åœ¨ä»»ä½•ç’°å¢ƒä¸­å¦‚é­šå¾—æ°´ã€‚\n\nã€éå¹´æ¨£è²Œã€‘å®ˆæ­²ä¹‹å¤œçš„ã€Œé¦–å¸­å¨›æ¨‚å®˜ã€ï¼å¤§å¯Œç¿ã€æ‰“éº»å°‡ã€åå…«å•¦ã€è²·æ•´æœ¬åˆ®åˆ®æ¨‚ï¼Œåªè¦æœ‰å¯ä»¥ç‚’ç†±æ°£æ°›çš„éŠæˆ²ï¼Œä½ çµ•å°æ˜¯å¸¶é ­è¡çš„é‚£å€‹ã€‚è·Ÿè‘—ä½ éå¹´ï¼Œçµ•å°è·åŒ…èˆ‡ç¬‘è²éƒ½æ»¿è¼‰è€Œæ­¸ï¼' 
                    },
                    'ESFP': { 
                        title: 'å…¨å ´ç„¦é»æ˜æ˜Ÿ', 
                        en: 'Entertainer', 
                        desc: 'ã€æ—¥å¸¸æ€§æ ¼ã€‘ä½ å……æ»¿æ´»åŠ›ã€ç†±æ„›ç”Ÿæ´»ï¼Œå¤©ç”Ÿè‡ªå¸¶æ˜æ˜Ÿå…‰ç’°ã€‚å–œæ­¡èˆ‡äººäº’å‹•ï¼Œæ“…é•·ç”¨å¹½é»˜èˆ‡ç†±æƒ…æ„ŸæŸ“å‘¨é­ï¼Œæ˜¯å€‹ç„¡å¯æ•‘è—¥çš„æ¨‚è§€ä¸»ç¾©è€…ã€‚\n\nã€éå¹´æ¨£è²Œã€‘å¹´å¤œé£¯æ¡Œä¸Šçš„ã€Œè©±é¡Œ C ä½ã€ï¼ç©¿è‘—æœ€äº®çœ¼çš„æ–°è¡£ï¼Œè¬›è‘—æœ€ç”Ÿå‹•çš„ç¬‘è©±ï¼Œç”šè‡³é‚„èƒ½éš¨æ™‚ä¾†ä¸€æ®µæ‰è—è¡¨æ¼”é€—æ¨‚é•·è¼©ã€‚åªè¦ä½ ä¸€å‡ºç¾ï¼Œéå¹´çš„å®¢å»³ç¬é–“è®Šæˆä½ çš„å€‹äººèˆå°ï¼Œæ­¡æ¨‚ä¸é–“æ–·ï¼' 
                    }
                },

                initApp() {
                    // å…¨å±€æ»‘å‹•äº‹ä»¶ç›£è½
                    document.addEventListener('mousemove', (e) => this.onDrag(e));
                    document.addEventListener('mouseup', () => this.endDrag());
                    document.addEventListener('touchmove', (e) => this.onDrag(e), { passive: false });
                    document.addEventListener('touchend', () => this.endDrag());
                },

                startQuiz() {
                    this.screen = 'quiz';
                    window.scrollTo(0,0);
                },

                // è™•ç†å¡ç‰‡æ¨£å¼å‹•æ…‹è¨ˆç®— (å †ç–Šã€æ—‹è½‰ã€ä½ç§»)
                getCardStyle(index) {
                    if (index === this.currentIndex) {
                        // ç•¶å‰å¡ç‰‡
                        if (this.isAnimatingOut) {
                            return `transform: translate(${this.leaveX}px, ${this.leaveY}px) rotate(${this.leaveX / 15}deg); opacity: 0; transition: all 0.4s ease-out;`;
                        }
                        if (this.isDragging) {
                            return `transform: translate(${this.dragX}px, ${this.dragY}px) rotate(${this.dragX / 20}deg); transition: none;`;
                        }
                        return `transform: translate(0px, 0px) rotate(0deg); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);`;
                    } else if (index === this.currentIndex + 1) {
                        // ä¸‹ä¸€å¼µå¡ç‰‡ (ç¸®å°ä¸¦åœ¨å¾Œæ–¹)
                        const scale = this.isDragging ? 0.95 + (Math.abs(this.dragX) / 1000) : 0.95;
                        const finalScale = Math.min(scale, 1);
                        return `transform: scale(${finalScale}) translateY(15px); opacity: 1; transition: transform 0.3s ease-out;`;
                    }
                    return 'display: none;';
                },

                // é»æ“Šå·¦å³å…©å´é¸é¡Œ
                handleClick(e) {
                    // å¦‚æœæ­£åœ¨å‹•ç•«ä¸­ï¼Œæˆ–è€…å‰›å‰›è§¸ç™¼çš„æ˜¯æ»‘å‹•è€Œéé»æ“Šï¼Œå‰‡å¿½ç•¥æ­¤äº‹ä»¶
                    if (this.isAnimatingOut || this.hasDragged) return;
                    
                    const rect = e.currentTarget.getBoundingClientRect();
                    const clientX = e.clientX; 
                    const clickX = clientX - rect.left;
                    
                    // åˆ¤æ–·é»æ“Šåœ¨å·¦åŠé‚Šæˆ–å³åŠé‚Š
                    if (clickX < rect.width / 2) {
                        this.triggerSwipe('left');
                    } else {
                        this.triggerSwipe('right');
                    }
                },

                // æ‹–æ›³é‚è¼¯
                startDrag(e) {
                    if (this.isAnimatingOut) return;
                    this.isDragging = true;
                    this.hasDragged = false;
                    this.startX = e.type.includes('mouse') ? e.pageX : e.touches[0].pageX;
                    this.startY = e.type.includes('mouse') ? e.pageY : e.touches[0].pageY;
                },

                onDrag(e) {
                    if (!this.isDragging) return;
                    
                    const currentX = e.type.includes('mouse') ? e.pageX : e.touches[0].pageX;
                    const currentY = e.type.includes('mouse') ? e.pageY : e.touches[0].pageY;
                    
                    this.dragX = currentX - this.startX;
                    this.dragY = currentY - this.startY;

                    // å¦‚æœæœ‰ä½ç§»ï¼Œæ¨™è¨˜ç‚ºå·²æ»‘å‹• (é˜²æ­¢èˆ‡ç´”é»æ“Šè¡çª)
                    if (Math.abs(this.dragX) > 5 || Math.abs(this.dragY) > 5) {
                        this.hasDragged = true;
                    }

                    // é˜²æ­¢æ‰‹æ©Ÿç«¯æ‹–æ›³å¡ç‰‡æ™‚é é¢æ»¾å‹•
                    if (e.type.includes('touch') && Math.abs(this.dragX) > Math.abs(this.dragY)) {
                        e.preventDefault();
                    }
                },

                endDrag() {
                    if (!this.isDragging) return;
                    this.isDragging = false;
                    
                    const threshold = window.innerWidth * 0.25; // è¢å¹•å¯¬åº¦ 25% ç‚ºé–¾å€¼
                    
                    if (this.dragX > threshold) {
                        this.triggerSwipe('right');
                    } else if (this.dragX < -threshold) {
                        this.triggerSwipe('left');
                    } else {
                        // æœªé”é–¾å€¼ï¼Œå½ˆå›åŸä½
                        this.dragX = 0;
                        this.dragY = 0;
                    }
                },

                triggerSwipe(direction) {
                    this.isAnimatingOut = true;
                    this.leaveX = direction === 'left' ? -window.innerWidth : window.innerWidth;
                    this.leaveY = this.dragY + (Math.random() * 100 - 50); // åŠ ä¸Šä¸€é»éš¨æ©Ÿï¼¹è»¸å¢åŠ è‡ªç„¶æ„Ÿ
                    
                    // è¨˜éŒ„ç­”æ¡ˆ (Left = A, Right = B)
                    this.answers[this.currentIndex] = direction === 'left' ? 'A' : 'B';

                    setTimeout(() => {
                        this.nextQuestion();
                    }, 300); // ç­‰å¾…é£›å‡ºå‹•ç•«å®Œæˆ
                },

                nextQuestion() {
                    this.isAnimatingOut = false;
                    this.dragX = 0;
                    this.dragY = 0;
                    this.leaveX = 0;
                    this.leaveY = 0;
                    
                    if (this.currentIndex < 19) {
                        this.currentIndex++;
                    } else {
                        this.calculateResult();
                    }
                },

                prevQuestion() {
                    if (this.currentIndex > 0) {
                        this.currentIndex--;
                        this.dragX = 0;
                        this.dragY = 0;
                    }
                },

                calculateResult() {
                    let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
                    
                    this.answers.forEach((ans, idx) => {
                        const dim = this.questions[idx].dim;
                        if (ans === 'A') scores[dim[0]]++;
                        else if (ans === 'B') scores[dim[1]]++;
                    });

                    const type = 
                        (scores.E >= scores.I ? 'E' : 'I') +
                        (scores.S >= scores.N ? 'S' : 'N') +
                        (scores.T >= scores.F ? 'T' : 'F') +
                        (scores.J >= scores.P ? 'J' : 'P');

                    this.resultType = type;
                    this.screen = 'result';
                    
                    // è§¸ç™¼æ…¶ç¥ç´™å±‘å‹•ç•«
                    this.$nextTick(() => {
                        this.fireConfetti();
                    });
                },

                fireConfetti() {
                    var duration = 3000;
                    var end = Date.now() + duration;

                    (function frame() {
                        confetti({
                            particleCount: 5,
                            angle: 60,
                            spread: 55,
                            origin: { x: 0 },
                            colors: ['#e63946', '#f5cb5c', '#ffffff']
                        });
                        confetti({
                            particleCount: 5,
                            angle: 120,
                            spread: 55,
                            origin: { x: 1 },
                            colors: ['#e63946', '#f5cb5c', '#ffffff']
                        });

                        if (Date.now() < end) {
                            requestAnimationFrame(frame);
                        }
                    }());
                },

                shareResult() {
                    const text = `ğŸ‰ æˆ‘çš„éå¹´ MBTI äººæ ¼æ˜¯ã€${this.resultType} - ${this.mbtiData[this.resultType].title}ã€‘ï¼\nå¿«ä¾†æ¸¬æ¸¬ä½ çš„å°ˆå±¬éå¹´äººæ ¼ ğŸ‘‰`;
                    if (navigator.share) {
                        navigator.share({
                            title: 'MBTI äººæ ¼æ¸¬é©— - éå¹´ç‰ˆ',
                            text: text,
                            url: window.location.href
                        }).catch(console.error);
                    } else {
                        navigator.clipboard.writeText(text + ' ' + window.location.href).then(() => {
                            alert('çµæœå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼å¯ä»¥å»è²¼çµ¦æœ‹å‹å›‰ï½');
                        });
                    }
                },

                resetQuiz() {
                    this.currentIndex = 0;
                    this.answers = [];
                    this.screen = 'start';
                    window.scrollTo(0,0);
                }
            }
        }
    </script>

    <!-- Alpine.js -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            background-color: #fdfbf7;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(230, 57, 70, 0.05), transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(245, 203, 92, 0.08), transparent 25%);
            overflow-x: hidden;
            touch-action: pan-y; /* å…è¨±å‚ç›´æ»¾å‹•ï¼Œä½†åœ¨å¡ç‰‡ä¸Šç”± JS æ¥ç®¡æ°´å¹³ */
        }

        /* æµ®å‹•èƒŒæ™¯è£é£¾ */
        .bg-ornament {
            position: fixed;
            z-index: -1;
            opacity: 0.15;
            user-select: none;
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        /* ç»ç’ƒæ“¬ç‰©åŒ–å¡ç‰‡ */
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: var(--tw-shadow-glass);
        }

        /* æ¸¬é©—å¡ç‰‡å †ç–Š */
        .card-stack {
            position: relative;
            width: 100%;
            max-width: 380px;
            height: 480px;
            margin: 0 auto;
            perspective: 1000px;
        }

        .swipe-card {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: white;
            border-radius: 1.5rem;
            box-shadow: var(--tw-shadow-card);
            border: 2px solid #fff;
            display: flex;
            flex-direction: column;
            transform-origin: 50% 100%;
            will-change: transform, opacity;
            touch-action: none; 
            user-select: none;
        }

        /* çµæœé å‹•æ…‹æ¼¸å±¤å­— */
        .text-gradient-gold {
            background: linear-gradient(135deg, #b58900 0%, #f5cb5c 50%, #b58900 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* éš±è—æœªè¼‰å…¥çš„å…ƒç´  */
        [x-cloak] { display: none !important; }
        
        /* é¸é …æŒ‰éˆ•äº’å‹•ç‰¹æ•ˆ */
        .option-badge {
            transition: all 0.2s ease;
        }
        .option-badge:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body class="min-h-screen text-gray-800 antialiased font-sans selection:bg-cny-gold selection:text-white" x-data="mbtiApp()" x-init="initApp()">

    <!-- èƒŒæ™¯æµ®å‹•è£é£¾ -->
    <div class="bg-ornament text-6xl" style="top: 10%; left: 5%; animation-delay: 0s;">ğŸ§§</div>
    <div class="bg-ornament text-5xl" style="top: 20%; right: 8%; animation-delay: 1s;">ğŸ®</div>
    <div class="bg-ornament text-6xl" style="bottom: 15%; left: 10%; animation-delay: 2s;">ğŸŠ</div>
    <div class="bg-ornament text-5xl" style="bottom: 25%; right: 5%; animation-delay: 1.5s;">ğŸ§¨</div>

    <main class="max-w-md mx-auto min-h-screen flex flex-col px-4 py-8 relative z-10">
        
        <!-- ================= é–‹å§‹ç•«é¢ ================= -->
        <div x-show="screen === 'start'" x-transition.opacity.duration.500ms class="flex-1 flex flex-col justify-center items-center">
            <div class="glass-panel rounded-3xl p-8 w-full text-center relative overflow-hidden">
                <!-- é ‚éƒ¨ç´…é‡‘é£¾æ¢ -->
                <div class="absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-cny-red via-cny-gold to-cny-red"></div>
                
                <div class="inline-flex items-center justify-center w-24 h-24 rounded-full bg-red-50 text-cny-red text-4xl mb-6 shadow-inner relative">
                    <span class="absolute inset-0 border-4 border-cny-red rounded-full opacity-20 animate-ping"></span>
                    <i class="ri-fire-fill"></i>
                </div>
                
                <h1 class="text-4xl font-black mb-2 text-gray-900 tracking-tight">MBTI äººæ ¼æ¸¬é©—</h1>
                <h2 class="text-2xl font-bold text-cny-darkgold mb-6">ğŸ® éå¹´é™å®šç‰ˆ ğŸ®</h2>
                
                <p class="text-gray-600 mb-8 leading-relaxed">
                    é€é <b class="text-cny-red">20 é“æƒ…å¢ƒé¡Œ</b>ï¼Œ<br>
                    ä¾†ç™¼æ˜ä¸€ä¸‹ä½ çš„å°ˆå±¬æ–°å¹´äººæ ¼å§ï¼
                </p>

                <button @click="startQuiz()" 
                        class="w-full bg-gradient-to-r from-cny-red to-cny-darkred text-white py-4 rounded-2xl text-xl font-bold shadow-lg shadow-red-500/30 hover:shadow-red-500/50 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2">
                    <i class="ri-play-circle-fill text-2xl"></i> ç«‹å³é–‹å§‹æ¸¬é©—
                </button>
                <p class="text-xs text-gray-400 mt-4">æ¸¬é©—æ™‚é–“ç´„ 3 åˆ†é˜</p>
            </div>
        </div>

        <!-- ================= æ¸¬é©—ç•«é¢ ================= -->
        <div x-show="screen === 'quiz'" x-cloak class="flex-1 flex flex-col">
            
            <!-- é ‚éƒ¨é€²åº¦æ¢ -->
            <div class="mb-8 mt-4">
                <div class="flex justify-between items-end mb-2">
                    <span class="text-sm font-bold text-gray-500">å•é¡Œ <span class="text-cny-red text-lg" x-text="currentIndex + 1"></span> / 20</span>
                    <span class="text-sm font-bold text-cny-darkgold" x-text="Math.round(((currentIndex) / 20) * 100) + '%'"></span>
                </div>
                <div class="h-3 w-full bg-gray-200 rounded-full overflow-hidden">
                    <div class="h-full bg-gradient-to-r from-cny-gold to-cny-red transition-all duration-500 ease-out"
                         :style="`width: ${((currentIndex) / 20) * 100}%`"></div>
                </div>
            </div>

            <!-- å¡ç‰‡æ»‘å‹•å€å¡Š -->
            <div class="card-stack flex-1" id="card-container">
                <template x-for="(q, index) in questions" :key="index">
                    <!-- åªæ¸²æŸ“ç•¶å‰å¡ç‰‡å’Œä¸‹ä¸€å¼µå¡ç‰‡ä»¥æå‡æ•ˆèƒ½ -->
                    <div x-show="index === currentIndex || index === currentIndex + 1"
                         class="swipe-card p-6 flex flex-col cursor-pointer"
                         :class="{ 'z-20': index === currentIndex, 'z-10': index === currentIndex + 1 }"
                         :style="getCardStyle(index)"
                         @mousedown="index === currentIndex && startDrag($event)"
                         @touchstart="index === currentIndex && startDrag($event)"
                         @click="index === currentIndex && handleClick($event)">
                        
                        <!-- å¡ç‰‡å…§éƒ¨ -->
                        <div class="flex-1 flex flex-col justify-center relative pointer-events-none">
                            
                            <!-- æµ®æ°´å°æç¤º (Left/Right) -->
                            <div class="absolute top-0 left-0 w-full flex justify-between px-4 opacity-0 transition-opacity duration-200"
                                 :style="index === currentIndex ? `opacity: ${Math.min(Math.abs(dragX) / 100, 1)}` : ''">
                                <span class="text-2xl font-black text-cny-red border-4 border-cny-red rounded-xl px-4 py-1 transform -rotate-12"
                                      x-show="dragX < 0">é¸ A</span>
                                <span class="text-2xl font-black text-green-500 border-4 border-green-500 rounded-xl px-4 py-1 transform rotate-12"
                                      x-show="dragX > 0">é¸ B</span>
                            </div>

                            <div class="text-center mb-8">
                                <div class="w-12 h-12 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl shadow-sm border border-red-100">
                                    ğŸ§§
                                </div>
                                <h3 class="text-2xl font-bold text-gray-800 leading-snug" x-text="q.q"></h3>
                            </div>
                        </div>

                        <!-- å…©å€‹é¸é … (è¦–è¦ºå±•ç¤ºç”¨ï¼Œä¸»è¦é æ»‘å‹•æˆ–æŒ‰éˆ•æ“ä½œ) -->
                        <div class="space-y-3 pointer-events-none mb-4">
                            <div class="p-4 rounded-xl border-2 border-red-100 bg-red-50/50 flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-white border-2 border-cny-red text-cny-red flex items-center justify-center font-bold text-sm shrink-0 shadow-sm"><i class="ri-arrow-left-line"></i></div>
                                <span class="text-sm font-medium text-gray-700 leading-tight" x-text="q.a"></span>
                            </div>
                            <div class="p-4 rounded-xl border-2 border-green-100 bg-green-50/50 flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-white border-2 border-green-500 text-green-500 flex items-center justify-center font-bold text-sm shrink-0 shadow-sm"><i class="ri-arrow-right-line"></i></div>
                                <span class="text-sm font-medium text-gray-700 leading-tight" x-text="q.b"></span>
                            </div>
                        </div>
                    </div>
                </template>
            </div>

            <!-- åº•éƒ¨æ“ä½œå€ -->
            <div class="mt-4 flex flex-col items-center justify-center gap-3 mb-4 min-h-[40px]">
                <button @click="prevQuestion()" x-show="currentIndex > 0" x-transition.opacity class="text-gray-500 hover:text-gray-700 transition-colors flex items-center gap-2 px-4 py-2 rounded-full hover:bg-gray-200/50 font-bold text-sm">
                    <i class="ri-arrow-go-back-line text-lg"></i> è¿”å›ä¸Šä¸€é¡Œ
                </button>
            </div>
            <p class="text-center text-gray-400 text-xs mb-4">å‘å·¦/å³æ»‘å‹•ï¼Œæˆ–ç›´æ¥é»é¸å¡ç‰‡å·¦/å³å´é¸é¡Œ</p>

        </div>

        <!-- ================= çµæœç•«é¢ ================= -->
        <div x-show="screen === 'result'" x-cloak x-transition.opacity.duration.800ms class="flex-1 flex flex-col items-center justify-center py-4">
            
            <h3 class="text-xl font-bold text-gray-500 mb-2">å°ˆå±¬æ–¼ä½ çš„éå¹´äººæ ¼æ˜¯...</h3>
            
            <!-- çµæœå¾½ç« å¡ç‰‡ (å–ä»£éœæ…‹åœ–ç‰‡) -->
            <div class="w-full bg-white rounded-3xl shadow-card overflow-hidden mb-8 border border-gray-100 relative group">
                <div class="absolute top-0 left-0 w-full h-32 bg-gradient-to-br from-cny-gold to-cny-red opacity-10"></div>
                
                <div class="p-8 text-center relative z-10">
                    <div class="w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-cny-red to-cny-darkred text-white flex items-center justify-center text-3xl font-black mb-4 shadow-lg border-4 border-white">
                        <span x-text="resultType"></span>
                    </div>
                    
                    <h1 class="text-4xl font-black text-gray-900 mb-1" x-text="mbtiData[resultType]?.title"></h1>
                    <p class="text-sm font-bold text-cny-darkgold mb-6 uppercase tracking-widest" x-text="mbtiData[resultType]?.en"></p>
                    
                    <div class="bg-orange-50 rounded-2xl p-6 text-left relative">
                        <i class="ri-double-quotes-l text-4xl absolute -top-3 -left-2 text-orange-200"></i>
                        <div class="text-gray-700 leading-relaxed text-sm md:text-base relative z-10 whitespace-pre-wrap" x-text="mbtiData[resultType]?.desc"></div>
                    </div>
                </div>
            </div>

            <div class="w-full space-y-3">
                <button @click="shareResult()" class="w-full bg-gray-900 text-white py-4 rounded-2xl text-lg font-bold shadow-lg hover:bg-gray-800 transition-colors flex justify-center items-center gap-2">
                    <i class="ri-share-forward-fill"></i> åˆ†äº«æ¸¬é©—çµæœ
                </button>
                <button @click="resetQuiz()" class="w-full bg-white text-gray-600 border-2 border-gray-200 py-4 rounded-2xl text-lg font-bold hover:bg-gray-50 transition-colors flex justify-center items-center gap-2">
                    <i class="ri-refresh-line"></i> å†æ¸¬ä¸€æ¬¡
                </button>
            </div>
        </div>

        <!-- é å°¾ -->
        <footer class="mt-auto pt-8 text-center text-xs text-gray-400 relative z-10 pb-4">
            <p>åƒ…ä¾›å¨›æ¨‚åƒè€ƒï¼Œç¥æ‚¨æ–°å¹´å¿«æ¨‚ï¼ğŸ§§</p>
            <p class="mt-2 text-gray-500">v0.1.6 &copy; 2026 <a href="https://huobest.com/" target="_blank" class="text-cny-red font-medium hover:underline">éœå®¶ç§å¡¾</a></p>
        </footer>

    </main>
</body>
</html>
